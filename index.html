<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Vote for Fatima Irfan!</title>
  <style>
    :root{
      --bg-1: #120023;
      --bg-2: #2b1055;
      --accent: #9b5de5;
      --accent-2: #ff6bcb;
      --muted: rgba(255,255,255,0.06);
      --text: #f4eeff;
    }

    *{box-sizing:border-box;margin:0;padding:0}
    html,body{min-height:100vh;height:auto}
    body{
      font-family: "Poppins", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      color:var(--text);
      background-color: #120023;
      background-image: linear-gradient(135deg, #120023 0%, #2b1055 70%);
      padding:20px;
      overflow-x:hidden;
      position:relative;
      color-scheme: dark;
    }
    body::after{
      content:""; position:fixed; left:0; right:0; bottom:0; height:140px;
      background: linear-gradient(0deg, rgba(43,16,85,1) 0%, rgba(43,16,85,0) 60%);
      pointer-events:none; z-index:0;
    }

    @media (max-width:480px){
      body{ background-image: linear-gradient(180deg,#150525,#2b1055 60%); padding:18px 14px; }
      body::after{ height:220px; background: linear-gradient(0deg, rgba(43,16,85,1) 0%, rgba(43,16,85,0) 70%); }
    }

    .wrap{max-width:980px;margin:0 auto;position:relative;z-index:1}
    header{margin-bottom:12px;text-align:center}
    h1{font-size:clamp(1.6rem,3vw,2.4rem);color:#ffdfff;text-shadow:0 6px 20px rgba(155,93,229,.08)}
    .subtitle{color:#efdff7;font-size:0.98rem;margin-top:6px;opacity:.95}

    .stars{position:fixed;inset:0;pointer-events:none;z-index:-1;opacity:0.6}
    .star{position:absolute;background:#fff;border-radius:50%;opacity:.7;animation:float 8s linear infinite}
    @keyframes float{from{transform:translateY(0)}to{transform:translateY(-120vh);opacity:0}}

    .modal{position:fixed;inset:0;background:rgba(0,0,0,.7);display:flex;align-items:center;justify-content:center;z-index:1200}
    .modal-content{
      width:min(420px,94%);
      background-color: rgba(43,16,85,0.98);
      background-image: linear-gradient(180deg,#2b1055,#431a6f);
      padding:18px;border-radius:12px;border:1px solid rgba(155,93,229,.12);
      box-shadow:0 10px 30px rgba(0,0,0,.45);text-align:center;
    }
    .modal-content h2{font-size:1.1rem;margin-bottom:12px}
    .modal-controls{display:flex;gap:10px;justify-content:center;flex-wrap:wrap}
    button{cursor:pointer;border:none;border-radius:10px;padding:10px 16px;font-weight:700;transition:transform .12s ease,opacity .12s}
    .yes{background: linear-gradient(90deg, #9b5de5, #7b3be3); color:#fff}
    .no{background: linear-gradient(90deg, #ff7b7b, #ff6b6b); color:#fff}

    .countdown{font-size:1.8rem;margin:14px 0;font-weight:700;color:#ffdfff;text-shadow:0 0 8px rgba(155,93,229,.06);text-align:center}
    .tagline{font-style:italic;color:#f0e6ff;text-align:center;margin-bottom:18px}

    .about{
      display:flex;gap:16px;align-items:center;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      padding:14px;border-radius:12px;border:1px solid var(--muted);
    }
    .about-img{flex:0 0 140px;height:140px;border-radius:12px;overflow:hidden;border:1px solid rgba(255,255,255,0.04)}
    .about-img img{width:100%;height:100%;object-fit:cover;display:block}
    .about-text{flex:1;color:var(--text);line-height:1.5;padding-right:6px}
    .about-text h2{font-size:1.05rem;margin-bottom:6px;color:#ffe7ff}
    .about-text p{font-size:0.98rem;margin-bottom:8px}

    @media (max-width:720px){
      .about{flex-direction:column;align-items:flex-start}
      .about-img{width:100%;height:220px;flex:0 0 auto}
      .about-text{padding:10px 0 0 0}
    }

    .quotes-container{
      overflow:hidden;white-space:nowrap;margin:18px 0;padding:12px 6px;border-top:1px solid rgba(155,93,229,0.08);border-bottom:1px solid rgba(155,93,229,0.08);
      background:linear-gradient(180deg, rgba(255,255,255,0.005), rgba(255,255,255,0.003));border-radius:8px;
    }
    .quotes{display:inline-block;padding-left:100%;animation:scroll 28s linear infinite}
    @keyframes scroll{0%{transform:translateX(0)}100%{transform:translateX(-100%)}}
    .quotes span{display:inline-block;margin:0 48px;font-weight:600;color:#ffdff8;font-size:1rem}

    .meter-wrap{margin:18px 0;padding:10px;border-radius:10px;border:1px solid var(--muted);background:rgba(255,255,255,0.01)}
    .meter-label{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px;font-weight:700}
    .meter{height:14px;background:rgba(255,255,255,0.03);border-radius:8px;overflow:hidden}
    .meter-fill{height:100%;width:0%;background:linear-gradient(90deg,var(--accent-2),var(--accent));transition:width .6s ease}

    .vote-btn{
      position:fixed;right:18px;bottom:18px;padding:12px 18px;border-radius:999px;border:none;
      background:linear-gradient(90deg,var(--accent-2),var(--accent));color:#fff;font-weight:900;z-index:1000;
      box-shadow:0 18px 40px rgba(155,93,229,0.14);transition:transform .18s ease,opacity .2s ease;
      display:none; max-width:calc(100% - 48px); white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
    }
    .vote-btn:active{transform:translateY(1px)}
    @media (max-width:880px){
      .vote-btn{right:14px;bottom:22px;padding:14px 18px;font-size:1.08rem;box-shadow:0 12px 28px rgba(155,93,229,0.12); }
      .vote-btn{ font-size: clamp(1rem, 3.6vw, 1.12rem); }
      .countdown{font-size:2.2rem}
      .about-img{flex:0 0 180px;height:180px}
      .modal-content{padding:20px}
      .modal-content h2{font-size:1.15rem}
      .meter{height:16px}
      button{padding:12px 18px}
      .about-text h2{font-size:1.12rem}
      .about-text p{font-size:1.05rem}
    }
    @media (max-width:520px){
      .vote-btn{right:14px;bottom:28px;padding:10px 12px;font-size:0.95rem;box-shadow:0 10px 22px rgba(155,93,229,0.12)}
    }

    .vote-top{ top:18px !important; bottom:auto !important; right:18px !important; left:auto !important; transform:translateY(0) !important; }
    .vote-side{ left:18px !important; right:auto !important; bottom:18px !important; top:auto !important; }

    @media (min-width:1100px){
      .wrap{max-width:1300px}
      h1{font-size:3.4rem}
      .about-img{flex:0 0 220px;height:220px}
      .about{padding:22px;gap:24px}
      .about-text h2{font-size:1.35rem}
      .countdown{font-size:2.6rem}
      .vote-btn{padding:16px 22px;font-size:1.05rem}
    }

    button:focus{outline:3px solid rgba(255,200,255,0.12);outline-offset:2px}

    /* Toast */
    .toast {
      position:fixed;
      left:auto; /* we'll set left in JS to center over the vote button */
      bottom:82px;
      z-index:1100;
      background: linear-gradient(90deg, rgba(155,93,229,0.16), rgba(255,107,203,0.12));
      backdrop-filter: blur(6px);
      color:var(--text);
      padding:10px 14px;
      border-radius:10px;
      border:1px solid rgba(155,93,229,0.12);
      max-width:320px;
      font-weight:700;
      box-shadow:0 8px 20px rgba(0,0,0,0.35);
      transform-origin:center;
      opacity:0;
      pointer-events:none;
      transform:translateX(-50%); /* keep the transform present so when JS sets left it centers properly */
    }
    .toast.show { animation: toastIn .36s ease forwards; }
    .toast.hide { animation: toastOut .28s ease forwards; }
    @keyframes toastIn { from { transform: translateY(6px) translateX(-50%); opacity:0; } to { transform: translateY(0) translateX(-50%); opacity:1; } }
    @keyframes toastOut { from { opacity:1 } to { opacity:0; transform: translateY(8px) translateX(-50%); } }

    @media (max-width:420px){
      .toast { max-width:calc(100% - 56px); font-size:0.95rem; }
      .vote-btn { right:12px; bottom:18px; }
    }
  </style>
</head>
<body>
  <div class="stars" id="stars"></div>

  <!-- Modal -->
  <div class="modal" id="voteModal" role="dialog" aria-modal="true" aria-labelledby="voteTitle">
    <div class="modal-content">
      <h2 id="voteTitle">Will you vote for Fatima Irfan?</h2>
      <div class="modal-controls">
        <button class="yes" id="yesBtn">Yes</button>
        <button class="no" id="noBtn">No</button>
      </div>
    </div>
  </div>

  <div class="wrap">
    <header>
      <h1>Vote Fatima Irfan For Head Girl!</h1>
      <div class="subtitle">Kind leadership. Creative ideas. Everyone heard.</div>
    </header>

    <main>
      <div class="countdown" id="countdown" aria-live="polite"></div>
      <div class="tagline">⏳ Voting at 8:00 tomorrow— vote for Fatima Irfan for head girl!</div>

      <!-- About -->
      <section class="about" aria-labelledby="aboutTitle">
        <div class="about-img" aria-hidden="true">
          <img src="lee.jpg" alt="Fatima Irfan smiling">
        </div>
        <div class="about-text">
          <h2 id="aboutTitle">Fatima Irfan — Vision in one line:</h2>
          <p>Free kitties for everyone</p>
        </div>
      </section>

      <!-- Scrolling Quotes (expanded list) -->
      <div class="quotes-container" aria-label="Supporter quotes">
        <div class="quotes" id="quotes">
          <span>"Proud to support Fatima."</span>
          <span>"She's the real deal."</span>
          <span>"Future leader."</span>
          <span>"Vote for change."</span>
          <span>"Kind and capable."</span>
          <span>"We trust Fatima."</span>
          <span>"She actually listens."</span>
          <span>"Fresh ideas, fair leadership."</span>
          <span>"For everyone — vote Fatima."</span>
          <span>"Leadership with heart."</span>
          <span>"Ready for action."</span>
          <span>"Committed and cool."</span>
          <span>"Strong, steady, fair."</span>
          <span>"A vote for progress."</span>
          <span>"Count me in!"</span>
          <span>"Here for Fatima."</span>
          <span>"Confidence in Fatima."</span>
          <span>"Made my day — she’s great."</span>
          <span>"All in for Fatima."</span>
        </div>
      </div>

      <!-- Supporters meter -->
      <section class="meter-wrap" aria-label="Supporters meter">
        <div class="meter-label">
          <div>Supporters</div>
          <div id="supportCount" style="font-weight:900">0</div>
        </div>
        <div class="meter" role="progressbar" aria-valuemin="0" aria-valuemax="200" aria-valuenow="0">
          <div class="meter-fill" id="meterFill" style="width:0%"></div>
        </div>
      </section>
    </main>
  </div>

  <!-- Floating Vote button -->
  <button class="vote-btn" id="voteBtn" aria-label="Vote for Fatima Irfan" title="Click to vote (and get a quick message)">✨ Vote Fatima Irfan</button>

  <!-- Toast -->
  <div id="toast" class="toast" role="status" aria-live="polite" aria-atomic="true" style="display:none"></div>

  <script>
    /* ---------- stars ---------- */
    (function(){
      const stars = document.getElementById('stars');
      const count = 45;
      for(let i=0;i<count;i++){
        const s = document.createElement('div');
        s.className = 'star';
        const size = (Math.random()*2)+1;
        s.style.width = s.style.height = `${size}px`;
        s.style.left = (Math.random()*100)+'vw';
        s.style.top = (Math.random()*100)+'vh';
        s.style.opacity = (0.45 + Math.random()*0.6);
        s.style.animationDuration = (6 + Math.random()*8)+'s';
        stars.appendChild(s);
      }
    })();

    /* ---------- countdown ---------- */
    function updateCountdown(){
      const now = new Date();
      const target = new Date(now);
      target.setDate(now.getDate() + 1);
      target.setHours(8,0,0,0);
      const diff = target - now;
      if(diff <= 0){
        document.getElementById('countdown').textContent = "It's Voting Time!";
        return;
      }
      const hrs = Math.floor(diff/(1000*60*60));
      const mins = Math.floor((diff%(1000*60*60))/(1000*60));
      const secs = Math.floor((diff%(1000*60))/1000);
      document.getElementById('countdown').textContent = `${hrs}h ${String(mins).padStart(2,'0')}m ${String(secs).padStart(2,'0')}s`;
    }
    setInterval(updateCountdown,1000);
    updateCountdown();

    /* ---------- modal logic ---------- */
    const modal = document.getElementById('voteModal');
    const yesBtn = document.getElementById('yesBtn');
    const noBtn = document.getElementById('noBtn');
    const voteBtn = document.getElementById('voteBtn');

    let noScale = 1;
    let yesScale = 1;

    // supporters storage & UI
    const storageKey = 'Fatima Irfan_support_v_final';
    const target = 200;
    function getSupport(){ return parseInt(localStorage.getItem(storageKey) || '1000', 10); } // default 1000 now
    function setSupport(v){ localStorage.setItem(storageKey, String(v)); updateSupportUI(); }
    function updateSupportUI(){
      const val = getSupport();
      document.getElementById('supportCount').textContent = val;
      const pct = Math.min(100, Math.round((val / target) * 100));
      document.getElementById('meterFill').style.width = pct + '%';
      document.querySelector('.meter').setAttribute('aria-valuenow', String(Math.min(val, target)));
    }
    function addSupport(n=1){
      setSupport(getSupport() + n);
      voteBtn.animate([{transform:'scale(1)'},{transform:'scale(.98)'},{transform:'scale(1)'}],{duration:260});
      if(getSupport() % 25 === 0) flashPage();
    }

    noBtn.addEventListener('click', () => {
      noScale = Math.max(0.08, noScale - 0.18);
      noBtn.style.transform = `scale(${noScale})`;
      yesScale = Math.min(2.6, yesScale + 0.08);
      yesBtn.style.transform = `scale(${yesScale})`;
      if(noScale <= 0.09) noBtn.style.display = 'none';
    });

    yesBtn.addEventListener('click', () => {
      yesScale = Math.min(2.6, yesScale + 0.22);
      yesBtn.style.transform = `scale(${yesScale})`;
      addSupport(1);
      setTimeout(()=>{ modal.style.display = 'none'; showVoteBtn(); positionToastAndButton(); }, 220);
    });

    window.addEventListener('keydown', (e) => {
      if(e.key === 'Escape'){ modal.style.display = 'none'; showVoteBtn(); positionToastAndButton(); }
    });

    /* ---------- vote button ---------- */
    function showVoteBtn(){
      voteBtn.style.display = 'block';
      voteBtn.style.opacity = '1';
      positionToastAndButton();
    }

    /* ---------- small page flash for milestones ---------- */
    function flashPage(){
      document.body.animate([{filter:'brightness(1)'},{filter:'brightness(1.06)'},{filter:'brightness(1)'}],{duration:700});
    }

    /* ---------- Fun messages (snappy post-vote replies) ---------- */
    const messages = [
      "Smart move.",
      "Nice call.",
      "Great choice.",
      "Right choice.",
      "You rock.",
      "Winning move.",
      "Thanks — smart pick.",
      "Onward!",
      "High five!",
      "Cheers — appreciated.",
      "Good call.",
      "Locked in.",
      "Let's go!"
    ];

    // toast handling & centering over the vote button
    const toastEl = document.getElementById('toast');
    let toastTimer = null;

    function positionToastAndButton(){
      // position toast above the vote button and horizontally centered on it
      // ensure vote button is visible
      const rect = voteBtn.getBoundingClientRect();
      // If voteBtn is not in the viewport or still display none, fallback to center of viewport
      let centerX = window.innerWidth / 2;
      if(rect && rect.width > 0 && voteBtn.offsetParent !== null){
        centerX = rect.left + rect.width / 2;
      }
      // measure toast width (temporarily make visible if needed)
      let wasHidden = (toastEl.style.display === 'none' || getComputedStyle(toastEl).display === 'none');
      if(wasHidden){
        toastEl.style.visibility = 'hidden';
        toastEl.style.display = 'block';
      }
      const toastWidth = toastEl.offsetWidth || Math.min(320, window.innerWidth - 48);
      if(wasHidden){
        toastEl.style.display = 'none';
        toastEl.style.visibility = '';
      }
      // clamp center so toast doesn't overflow viewport edges (12px margin)
      const minX = 12 + toastWidth / 2;
      const maxX = window.innerWidth - 12 - toastWidth / 2;
      const finalX = Math.max(minX, Math.min(maxX, centerX));
      toastEl.style.left = finalX + 'px';
      // keep translateX(-50%) in CSS so this centers around left
      // bottom offset depending on viewport height
      toastEl.style.bottom = (window.innerHeight < 520 ? '96px' : '82px');
    }

    function showToast(msg, ms = 2500){
      clearTimeout(toastTimer);
      toastEl.textContent = msg;
      positionToastAndButton(); // center it relative to vote button
      toastEl.style.display = 'block';
      toastEl.classList.remove('hide');
      void toastEl.offsetWidth;
      toastEl.classList.add('show');
      toastTimer = setTimeout(()=> {
        toastEl.classList.remove('show');
        toastEl.classList.add('hide');
        setTimeout(()=> { toastEl.style.display = 'none'; toastEl.classList.remove('hide'); }, 280);
      }, ms);
    }

    // On click: add supporter + show short post-vote toast centered over the button
    voteBtn.addEventListener('click', (e) => {
      addSupport(1);
      const msg = messages[Math.floor(Math.random()*messages.length)];
      showToast(msg);
    });

    /* ---------- ensure initial UI ---------- */
    updateSupportUI();
    if(modal.style.display === 'none' || !modal.offsetParent) showVoteBtn();

    // keep positions updated
    window.addEventListener('resize', positionToastAndButton);
    window.addEventListener('load', positionToastAndButton);
    // also keep position when scrolling (button might be fixed but just in case)
    window.addEventListener('scroll', positionToastAndButton);
  </script>
</body>
</html>
